{"openapi":"3.0.0","paths":{"/favorites/doctors/{doctorId}":{"post":{"operationId":"FavoritesController_addDoctor","parameters":[{"name":"doctorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Доктор добавлен в избранное"},"409":{"description":"Доктор уже в избранном"}},"security":[{"JWT":[]}],"tags":["Favorites"]},"delete":{"operationId":"FavoritesController_removeDoctor","parameters":[{"name":"doctorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Доктор удалён из избранного"}},"security":[{"JWT":[]}],"tags":["Favorites"]}},"/favorites/medical-centers/{medicalCenterId}":{"post":{"operationId":"FavoritesController_addMedicalCenter","parameters":[{"name":"medicalCenterId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Медицинский центр добавлен в избранное"},"409":{"description":"Медицинский центр уже в избранном"}},"security":[{"JWT":[]}],"tags":["Favorites"]},"delete":{"operationId":"FavoritesController_removeMedicalCenter","parameters":[{"name":"medicalCenterId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Медицинский центр удалён из избранного"}},"security":[{"JWT":[]}],"tags":["Favorites"]}},"/doctors/search":{"get":{"operationId":"DoctorController_searchDoctors","parameters":[{"name":"page","required":false,"in":"query","description":"Номер страницы (>=1)","schema":{"example":1,"type":"number"}},{"name":"size","required":false,"in":"query","description":"Размер страницы (1–100)","schema":{"example":10,"type":"number"}},{"name":"searchFor","required":false,"in":"query","description":"Поисковый запрос (>=3 символов)","schema":{"example":"Иван","type":"string"}},{"name":"categoryId","required":false,"in":"query","description":"Фильтр по категории врача","schema":{"type":"string"}},{"name":"medicalCenterId","required":false,"in":"query","description":"Фильтр по медицинскому центру","schema":{"type":"string"}},{"name":"sort","required":false,"in":"query","description":"Поле сортировки","schema":{"example":"rating","type":"string","enum":["rating","reviews","practiceStartYear"]}},{"name":"order","required":false,"in":"query","description":"Направление сортировки","schema":{"example":"ASC","type":"string","enum":["ASC","DESC"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Doctors"]}},"/doctors/favorites":{"get":{"operationId":"DoctorController_favoritesForUser","parameters":[{"name":"page","required":false,"in":"query","description":"Номер страницы (>=1)","schema":{"example":1,"type":"number"}},{"name":"size","required":false,"in":"query","description":"Размер страницы (1–100)","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Doctors"]}},"/doctors/{id}":{"get":{"operationId":"DoctorController_getDoctorById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DoctorResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Doctors"]}},"/doctors/{doctorId}/time-slots":{"get":{"operationId":"DoctorTimeSlotController_getSlots","parameters":[{"name":"doctorId","required":true,"in":"path","schema":{"type":"string"}},{"name":"startDate","required":true,"in":"query","schema":{"type":"string"}},{"name":"endDate","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DateWithTimeSlots"}}}}}},"security":[{"JWT":[]}],"tags":["Doctors"]}},"/doctors/{doctorId}/time-slots/range":{"get":{"operationId":"DoctorTimeSlotController_getSlotsRange","parameters":[{"name":"doctorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimeSlotsRangeResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Doctors"]}},"/doctor-categories":{"get":{"operationId":"DoctorCategoryController_getAll","parameters":[],"responses":{"200":{"description":"Список категорий врачей","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DoctorCategoryResponseDto"}}}}}},"security":[{"JWT":[]}],"tags":["Doctors"]}},"/doctors/{doctorId}/schedule":{"get":{"operationId":"DoctorScheduleController_getDoctorSchedule","parameters":[{"name":"doctorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DoctorScheduleResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Doctors"]}},"/medical-centers":{"get":{"operationId":"MedicalCentersController_getMedicalCenters","parameters":[{"name":"shouldTake5Only","required":true,"in":"query","schema":{"type":"boolean"}},{"name":"lat","required":false,"in":"query","schema":{"type":"string"}},{"name":"lon","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MedicalCenterResponseDto"}}}}}},"security":[{"JWT":[]}],"tags":["Medical Centers"]}},"/medical-centers/favorites":{"get":{"operationId":"MedicalCentersController_favoritesForUser","parameters":[{"name":"page","required":false,"in":"query","description":"Номер страницы (>=1)","schema":{"example":1,"type":"number"}},{"name":"size","required":false,"in":"query","description":"Размер страницы (1–100)","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Medical Centers"]}},"/users/me":{"patch":{"operationId":"UsersController_updateCurrent","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Users"]},"get":{"operationId":"UsersController_getCurrent","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"Пользователь не найден"}},"security":[{"JWT":[]}],"tags":["Users"]}},"/uploads/public/{filename}":{"get":{"operationId":"AssetsController_getPublicFile","parameters":[{"name":"filename","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Assets"]}},"/uploads/protected/{filename}":{"get":{"operationId":"AssetsController_getProtectedFile","parameters":[{"name":"filename","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"JWT":[]}],"tags":["Assets"]}},"/appointments":{"post":{"operationId":"AppointmentController_createAppointment","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAppointmentDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Appointments"]},"get":{"operationId":"AppointmentController_getAppointments","parameters":[{"name":"page","required":false,"in":"query","description":"Номер страницы (>=1)","schema":{"example":1,"type":"number"}},{"name":"size","required":false,"in":"query","description":"Размер страницы (1–100)","schema":{"example":10,"type":"number"}},{"name":"isCancelled","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"type","required":true,"in":"query","schema":{"$ref":"#/components/schemas/AppointmentType"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Appointments"]}},"/appointments/{id}/cancel":{"patch":{"operationId":"AppointmentController_cancelAppointment","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Appointments"]}},"/appointments/{id}/reschedule":{"patch":{"operationId":"AppointmentController_rescheduleAppointment","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RescheduleAppointmentDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Appointments"]}},"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}},"tags":["Auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}},"tags":["Auth"]}},"/auth/complete-registration":{"post":{"operationId":"AuthController_update","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}},"security":[{"JWT":[]}],"tags":["Auth"]}},"/auth/recovery/otp/request":{"post":{"operationId":"RecoveryController_requestOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestOtpDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemoOnly_SMSResponse"}}}}},"tags":["Auth"]}},"/auth/recovery/otp/verify":{"post":{"operationId":"RecoveryController_verifyOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyOtpDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyOtpResponseDto"}}}}},"tags":["Auth"]}},"/auth/recovery/reset-password":{"post":{"operationId":"RecoveryController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}},"tags":["Auth"]}},"/onboarding/slides":{"get":{"operationId":"OnboardingSlidesController_getAll","parameters":[],"responses":{"200":{"description":"Список активных onboarding-слайдов","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OnboardingSlideResponseDto"}}}}}},"tags":["Onboarding"]}}},"info":{"title":"HealthPal API","description":"Demo API for RN showcase","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"JWT":{"scheme":"bearer","bearerFormat":"JWT","type":"http","name":"Authorization","description":"Введите JWT токен","in":"header"}},"schemas":{"PaginatedResponseDto":{"type":"object","properties":{"page":{"type":"number","description":"Текущая страница"},"size":{"type":"number","description":"Размер страницы"},"count":{"type":"number","description":"Общее количество записей"},"lastPage":{"type":"number","description":"Последняя страница"},"data":{"description":"Массив данных","type":"array","items":{"type":"array"}}},"required":["page","size","count","lastPage","data"]},"Image":{"type":"object","properties":{"image":{"type":"string"},"thumbhash":{"type":"string"}},"required":["image","thumbhash"]},"DoctorCategoryType":{"type":"string","enum":["dentistry","cardiology","pulmonology","general","neurology","gastroenterology","laboratory","vaccination"]},"DoctorResponseDoctorCategoryDto":{"type":"object","properties":{"type":{"allOf":[{"$ref":"#/components/schemas/DoctorCategoryType"}]}},"required":["type"]},"DoctorResponseMedicalCenterDto":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"}},"required":["name","address"]},"DoctorResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"surname":{"type":"string"},"image":{"$ref":"#/components/schemas/Image"},"rating":{"type":"number"},"reviewsCount":{"type":"number"},"patientsCount":{"type":"number"},"practiceStartYear":{"type":"number"},"description":{"type":"string"},"isFavorite":{"type":"boolean"},"category":{"$ref":"#/components/schemas/DoctorResponseDoctorCategoryDto"},"medicalCenter":{"$ref":"#/components/schemas/DoctorResponseMedicalCenterDto"}},"required":["id","name","surname","image","rating","reviewsCount","patientsCount","practiceStartYear","description","category","medicalCenter"]},"TimeSlotDto":{"type":"object","properties":{"startTime":{"type":"string"},"id":{"type":"string"},"endTime":{"type":"string"},"available":{"type":"boolean"}},"required":["startTime","id","endTime","available"]},"DateWithTimeSlots":{"type":"object","properties":{"date":{"type":"string"},"slots":{"type":"array","items":{"$ref":"#/components/schemas/TimeSlotDto"}}},"required":["date","slots"]},"TimeSlotsRangeResponseDto":{"type":"object","properties":{"minDate":{"type":"string"},"maxDate":{"type":"string"}},"required":["minDate","maxDate"]},"DoctorCategoryResponseDto":{"type":"object","properties":{"type":{"allOf":[{"$ref":"#/components/schemas/DoctorCategoryType"}]},"icon":{"type":"string"},"id":{"type":"string"}},"required":["type","icon","id"]},"ScheduleRecord":{"type":"object","properties":{"start":{"type":"string"},"end":{"type":"string"}},"required":["start","end"]},"DoctorScheduleResponseDto":{"type":"object","properties":{"1":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleRecord"}},"2":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleRecord"}},"3":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleRecord"}},"4":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleRecord"}},"5":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleRecord"}},"6":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleRecord"}},"7":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleRecord"}}},"required":["1","4","3","2","5","7","6"]},"MedicalCenterType":{"type":"string","enum":["hospital","clinc","cabinet"]},"MedicalCenterResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"address":{"type":"string"},"city":{"type":"string"},"reviewsCount":{"type":"string"},"rating":{"type":"string"},"image":{"$ref":"#/components/schemas/Image"},"lat":{"type":"number"},"lon":{"type":"number"},"type":{"allOf":[{"$ref":"#/components/schemas/MedicalCenterType"}]},"isFavorite":{"type":"boolean"},"distance":{"type":"number"},"walkingTimeMinutes":{"type":"number"}},"required":["id","name","address","city","reviewsCount","rating","image","lat","lon","type","isFavorite"]},"Gender":{"type":"string","enum":["MALE","FEMALE"],"description":"Пол"},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string"},"surname":{"type":"string"},"avatar":{"type":"string","format":"binary"},"birthday":{"type":"string","description":"Дата рождения","format":"date"},"gender":{"description":"Пол","example":"MALE","allOf":[{"$ref":"#/components/schemas/Gender"}]},"nickname":{"type":"string","description":"Никнейм пользователя","example":"user1337"}},"required":["birthday","gender"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string","description":"Имя"},"surname":{"type":"string","description":"Фамилия"},"phone":{"type":"string","description":"Телефон в формате +7...","example":"+79323572448"},"nickname":{"type":"string","description":"Никнейм пользователя","example":"user1337"},"birthday":{"type":"string","description":"Дата рождения","example":"2025-10-06","format":"date"},"gender":{"description":"Пол","example":"MALE","allOf":[{"$ref":"#/components/schemas/Gender"}]},"avatar":{"description":"Аватар: { image: ссылка на файл, thumbhash: хэш превью }","allOf":[{"$ref":"#/components/schemas/Image"}]},"registrationComplete":{"type":"boolean","description":"Никнейм пользователя"}},"required":["id","name","surname","phone","birthday","gender","registrationComplete"]},"CreateAppointmentDto":{"type":"object","properties":{"doctorId":{"type":"string"},"timeSlotId":{"type":"string"}},"required":["doctorId"]},"AppointmentResponseDto":{"type":"object","properties":{"id":{"type":"string"},"userId":{"type":"string"},"doctorId":{"type":"string"},"timeSlotId":{"type":"object"},"date":{"type":"string"},"startTime":{"type":"string"},"endTime":{"type":"string"},"isCancelled":{"type":"boolean"},"doctor":{"$ref":"#/components/schemas/DoctorResponseDto"}},"required":["id","userId","doctorId","date","startTime","endTime","isCancelled","doctor"]},"AppointmentType":{"type":"string","enum":["CANCELED","FUTURE","PAST"]},"RescheduleAppointmentDto":{"type":"object","properties":{"newTimeSlotId":{"type":"string"}},"required":["newTimeSlotId"]},"CreateUserDto":{"type":"object","properties":{"phone":{"type":"string","example":"+79323572448"},"password":{"type":"string","example":"Password123"},"name":{"type":"string"},"surname":{"type":"string"}},"required":["phone","password","name","surname"]},"LoginResponseDto":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"$ref":"#/components/schemas/UserResponseDto"}},"required":["accessToken","user"]},"LoginDto":{"type":"object","properties":{"phone":{"type":"string","example":"+79323572448"},"password":{"type":"string","example":"Password123"}},"required":["phone","password"]},"RequestOtpDto":{"type":"object","properties":{"phone":{"type":"string","description":"Телефон в формате +7...","example":"+79323572448"}},"required":["phone"]},"DemoOnly_SMSResponse":{"type":"object","properties":{"smsDemoOnly":{"type":"string"}},"required":["smsDemoOnly"]},"VerifyOtpDto":{"type":"object","properties":{"phone":{"type":"string","description":"Телефон в формате +7...","example":"+79323572448"},"otp":{"type":"string"}},"required":["phone","otp"]},"VerifyOtpResponseDto":{"type":"object","properties":{"recoveryToken":{"type":"string"}},"required":["recoveryToken"]},"ResetPasswordDto":{"type":"object","properties":{"token":{"type":"string"},"password":{"type":"string","example":"Password123"},"confirmPassword":{"type":"string","example":"Password123"}},"required":["token","password","confirmPassword"]},"OnboardingSlideResponseDto":{"type":"object","properties":{"image":{"description":"{ image: ссылка на файл, thumbhash: хэш превью }","allOf":[{"$ref":"#/components/schemas/Image"}]},"title":{"type":"string"},"text":{"type":"string"}},"required":["image","title","text"]}}}}