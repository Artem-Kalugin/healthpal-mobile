# Архитектура

За время работы в IT я пробовал различные подходы к организации кода — от **Atomic Design** до **Feature Sliced Design**, а также вдохновлялся принципами **DDD** из backend-разработки. Однако, по моему мнению, ни один из этих подходов не подходит к специфике React Native-приложений в полной мере.


## Особенности React Native как среды

React Native — это, прежде всего, про скорость разработки и оптимизацию ресурсов, что делает его привлекательным для малого и среднего бизнеса. Крупные компании чаще предпочитают нативные решения из-за предсказуемости и стабильности.

Если посмотреть на структуру типичного современного React Native-приложения, то из моего опыта:

* **75% кода** — UI-слой  
* **15% кода** — инфраструктурная бизнес-логика (пермишены, геолокация, пуши)  
* **10% кода** — взаимодействие с API  

Основная сложность React Native-проектов кроется в структурировании и изоляции UI-кода.


## Почему не Feature Sliced и не Atomic Design

**Feature Sliced Design** создавался для сложных веб-приложений с большим количеством взаимосвязанных модулей и сценариев повторного использования. В мобильной среде React Native это избыточно:

* количество уникальных бизнес-сценариев значительно меньше  
* логика почти всегда привязана к конкретным экранам  

**Пример:** форма входа в вебе может встречаться в разных контекстах (на отдельной странице, в модалке, в шапке сайта), тогда как в мобильном приложении она практически всегда живёт на экране Auth.

**Atomic Design** слишком абстрактен. На практике границы между `molecules` и `organisms` размыты, а подход ограничивается только UI и не затрагивает другие важные аспекты архитектуры приложения.

## Про глобальное состояние

Я придерживаюсь принципа **минимизации глобального состояния**.  
Как показывает практика, всё, что может быть вынесено в глобальный стор, рано или поздно туда попадёт, часто без достаточных оснований. Поэтому я предпочитаю проектировать архитектуру так, чтобы каждая часть приложения имела собственный, чётко ограниченный контекст.


## Архитектурный подход

В результате экспериментов и анализа разных методологий я сформировал собственное видение архитектуры и основную идею можно было бы выделить как **Screen-Centric**

Главная идея подхода — строгое разграничение слоёв и контекстов ответственности с учётом специфики React Native. В отличие от стандартной структуры React-проектов, здесь создание и использование компонентов жёстко регламентировано. Каждый слой выполняет только свою задачу, а пересечение между ними сведено к минимуму и организовано слоем `screens/modals`.


## Еще

<ul>
<li><a href="./architecture.md">Архитектура</a></li>
<li><a href="./why-no-cd.md">Почему нет CD</a></li>
<li><a href="./why-no-push.md">Почему нет пушей</a></li>
<li><a href="./why-no-tests.md">Почему нет тестов</a></li>
<li><a href="./why-not-bare.md">Почему Expo, а не Bare React Native</a></li>
<li><a href="./build.md">Инструкция к сборке</a></li>
</ul>

